<?xml version="1.0" encoding="utf-8" ?>
<!-- log4net 配置文件 -->
<log4net>
	<!-- 1. 滚动文件输出器（核心） -->
	<appender name="RollingFileAppender" type="log4net.Appender.RollingFileAppender">
		<!-- 日志文件路径 -->
		<file value="logs/log.txt" />
		<!-- 按日期滚动（文件名包含日期） -->
		<datePattern value="yyyyMMdd" />
		<rollingStyle value="Date" />
		<staticLogFileName value="false" />
		<!-- 不使用固定文件名 -->
		<!-- 保留30天日志 -->
		<maxSizeRollBackups value="30" />
		<!-- 多线程安全写入 -->
		<lockingModel type="log4net.Appender.FileAppender+MinimalLock" />
		<!-- 编码格式 -->
		<encoding value="utf-8" />
		<!-- 日志格式 -->
		<layout type="log4net.Layout.PatternLayout">
			<conversionPattern value="%date [%-5level] [%logger] %message%newline%exception{full}" />
		</layout>
	</appender>
	
	<appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender">
		<layout type="log4net.Layout.PatternLayout">
			<conversionPattern value="%date [%-5level] %message%newline" />
		</layout>
	</appender>

	<root>
		<level value="Debug" />
		<appender-ref ref="RollingFileAppender" />
		<appender-ref ref="ConsoleAppender" />
	</root>
</log4net>